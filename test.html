<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<link rel="stylesheet" type="text/css" href="http://mg.mud.de/doc/morgengrauen.css" media="screen">
<link rel="stylesheet" type="text/css" href="http://telnet.morgengrauen.info/WebTelnet.css" media="screen">

<link rel="shortcut icon" type="image/x-icon" href="http://mg.mud.de/img/favicon.ico" />
<title>MorgenGrauen - mg.mud.de - das gr&ouml;&szlig;te deutsche textbasierte, kostenlose Online-Rollenspiel</title>

<style type="text/css">
  <!--
  #nav #nav_sub_start { display:block;}
  #nav #nav_start { color:#043341;}
  -->
</style>

	<link rel="stylesheet" type="text/css" href="http://mg.mud.de/doc/startseite.css" media="screen">
	<link type="text/css" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.14/themes/humanity/jquery-ui.css" rel="stylesheet"/>

	<style type="text/css">
	.bg_green { background-color : green;}
	.bg_yellow {  background-color : yellow;}
	.bg_red { background-color : red;}
	
	</style>
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.min.js"></script>
	<script type="text/javascript" src="ansi.js"></script>
	<script type="text/javascript" src="mg_client_ui.js"></script>
	<script type="text/javascript" src="mg_client.js"></script>
	<script type="text/javascript" src="mg_client_io.js"></script>
	<script type="text/javascript" src="mg_client_player.js"></script>
	<script type="text/javascript" src="mg_client_history.js"></script>
	<script type="text/javascript" src="mg_client_config.js"></script>
	<script type="text/javascript">

    function enrich(line) {
		grab_battle(line);

		player_triggers(line);
		
		line = runTriggers(line);
		
		line = escapeHTML(line);
		line = color_escapes(line);

		line = line.replace(/\b(norden|nordosten|osten|suedosten|sueden|suedwesten|westen|nordwesten|oben|unten|raus)\b/g,"<span style='color:red' onclick='input(\"$1\");'>$1</span>");
		line = line.replace(/([A-Z][a-z]{2,})/g,"<span ondblclick='input(\"untersuche $1\");'>$1</span>");
		
		grab_source(line);
		return line;
	}

	$(document).ready(function(){
		try {
		$('#status').dialog({ title: "Status", position : [850,80], width : 300 });

		update("kp",50,100);
		update("lp",50,100);

		$('#input').keydown(handle_keys);

		addBox("p_fight","Kampf");
		addBox("source","Source");

		add_button("Info","info");
		add_button("Inventory","inv");
		add_button("nn","nn");
		add_button("Ausruestung","ausruestung");

		$( "#b_grafik" ).button().click(function() { 
		   input("grafik aus"); 
		});
		$( "#b_modus" ).buttonset();

		addWindow("Spieler",
				{ p_info: { 
				title: "Info", start:/- .+ -{3,}$/,  
				end: /----------------------------------------------------------------------/ },
				  p_inventory : { title: "Inventory", start : /^(inv|inventory|i)\s*$/ },
				  p_ausruestung : { title: "Ausr&uuml;stung", start : /^(ar|ausruestung)\s*$/ ,
					fun : function(text) { setTabText("p_ausruestung",color_escapes(escapeHTML(text))) }
				 }
				});
		addWindow("Mud", {
			p_ort : { title: "Ort", 	start : /^(schaue?|l|look|norden|nordosten|osten|suedosten|sueden|suedwesten|westen|nordwesten|oben|unten|raus|n|nw|no|o|s|w|sw|so|ob|u)\s*$/},
			p_finger : { title: "Finger", start : /^.+ ist anwesend,$/ },
			p_kwer : { title : "Anwesende", start: /^     Liste der Mitspieler vom/ },
			p_team : { title : "Team" , start: /^  Name        Gilde           LV GLV  LP (MLP)  KP (MKP) Vors. GR AR TR FR A V/ }});
		addWindow("Kommunikation", {
			teilemit : { title : "Mitteilungen", trigger : /^(Du teilst .+ mit|.+ teilt Dir mit):/ , 
			fun : function (text) { appendTabText("teilemit",text); } },
			ebenen :   { title : "Ebenen", trigger : /^\[[A-Z]\w+/, fun : function (text) { appendTabText("ebenen",text); }}
		})		
		console.log(highlight({ 
			trigger: /Test/, 
			style : { color:"red" }, 
			click: function(text) { return "input(\""+text+"\")";}
			})("Das ist ein Test"));
			
		$('#input').focus();
	} catch(e) {console.log(e);}
	});
	var	server = connect(showText);
	console.log(server);
	</script>
</head>
<body style="font-size:10px;height:100%;">
	<div id="nav" style="left: 700px; top: 75px; position: absolute;">
	  <div class="nav-1">&nbsp;</div>

	  <div class="nav-2" style="font-size:12px;">
	 <a href="#" class="nav" id="nav_start" style="margin-top:0;">Fenster</a>
	  <span id="nav_sub_start" class="secnav">
	  <a href="#" id="nav_eingang" onclick="$('#status').dialog('open'); return false;">Status</a>
	</span>
	  </div>
	  <div class="nav-3">&nbsp;</div>
	</div>

	<div id="ie-hack">&nbsp;</div>
	<div id="doc">
		
	<div id="mgbox" style="overflow-x:hidden;overflow-y:auto;height:450px;width:48em;line-height:1.2em;font-size:12px;margin-top:-40px;margin-left:-100px;" class="mudtext">
		<div id="mg-logo" style="margin-top:-12px;margin-left:-390px;">&nbsp;</div>
		<pre id="out"></pre>
	</div>

	<div style="margin-left:-100px;margin-top:5px;">

	<span id="toolbar" class="ui-widget-header ui-corner-all">
		<input type="checkbox" id="b_grafik" /><label for="b_grafik">Grafik aus</label>

		<span id="b_modus">
			<input type="radio" id="b_lang" name="b_modus" onchange="input('lang');"/><label for="b_lang">Lang</label>
			<input type="radio" id="b_kurz" name="b_modus"  onchange="input('kurz');" checked="checked" /><label for="b_kurz">Kurz</label>
			<input type="radio" id="b_ultrakurz" name="b_modus"  onchange="input('ultrakurz');"/><label for="b_ultrakurz">Ultrakurz</label>
		</span>
	</span>

	<form id="form" method="post"  style="margin: 5px;" onsubmit="try {sendInput()} catch(e) { alert(e); };return false;">
		<input type="text" id="input" style="width:50em;font-family:monospace;font-size:12px;"/>
	</form>

    </div>

	<div id="status" style="width:200">
		<div style="float:left">
			<img src="dwarf.jpg"/>
		</div>
		<div style="margin-left:40%">
		<div id="p_bar_lp" style="height:1.5em;margin:3px;"><span style="position: absolute; width: 50%; text-align: center;">LP: <span id="p_lp">58</span>/<span id="p_max_lp">58</span></span></div>
		<div id="p_bar_kp" style="height:1.5em;margin:3px;"><span style="position: absolute; width: 50%; text-align: center;">KP: <span id="p_kp">58</span>/<span id="p_max_kp">58</span></span></div>
		<div>V: <span id="p_vorsicht"></span></div>
		<div>FR: <span id="p_flucht"></span></div>
		</div>
		<div style="clear:both"></div>
	</div>

	<div class="ie-hack2">&nbsp;</div>
	</div>

	<div id="disclaimer"><span style="text-align:center;">&copy; MorgenGrauen. Alle Rechte vorbehalten.</span></div>

</body>
</html>